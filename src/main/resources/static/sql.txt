create table Consumer(
        id int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
        name varchar(100) NOT NULL,
        second_name varchar(100) NOT NULL,
        patronymic varchar(100)
);
create table Position(
       id int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
       position varchar(100) NOT NULL
);
create table Safety_rule(
        id int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
        rule_name varchar(50) NOT NULL,
        rule_desc varchar(200)
);
CREATE TABLE Staff (
        id int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
        name varchar(100) NOT NULL,
        second_name varchar(100) NOT NULL,
        patronymic varchar(100),
        telephone_number varchar(100),
        position_id int REFERENCES Position(id) ON DELETE SET NULL,
        rule_id int REFERENCES Safety_rule(id) ON DELETE SET NULL
);
create table Defect(
        id int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
        defect_case varchar(100)
);
create table Producer(
        id int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
        name varchar(200)
);
create table GOST(
        id int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
        name varchar(100),
        description varchar(200)
);
create table Textile(
        id int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
        name varchar(100),
        type varchar(200)
);
CREATE TABLE Quality (
        id int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
        condition varchar(100),
        suitability varchar(100),
        defect_id int REFERENCES defect(id) ON DELETE SET NULL,
        gost_id int REFERENCES gost(id) ON DELETE SET NULL
);
CREATE TABLE Cloth (
        id int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
        name varchar(100),
        size varchar(100),
        producer_id int REFERENCES producer(id) ON DELETE SET NULL,
        textile_id int REFERENCES textile(id) ON DELETE SET NULL,
        quality_id int REFERENCES quality(id) ON DELETE SET NULL,
        gost_id int REFERENCES gost(id) ON DELETE SET NULL
);
CREATE TABLE "Order" (
        id int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
        name varchar(100),
        price int,
        nds int,
        date TIMESTAMP,
        cloth_id int REFERENCES cloth(id) ON DELETE SET NULL,
        consumer_id int REFERENCES consumer(id) ON DELETE SET NULL,
        staff_id int REFERENCES safetyRules(id) ON DELETE SET NULL,
        rule_id int REFERENCES safety_rule(id) ON DELETE SET NULL
);